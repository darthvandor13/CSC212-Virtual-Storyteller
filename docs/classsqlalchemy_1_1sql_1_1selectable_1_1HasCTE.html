<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NAO Virtual Storyteller: sqlalchemy.sql.selectable.HasCTE Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NAO Virtual Storyteller
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacesqlalchemy.html">sqlalchemy</a></li><li class="navelem"><a class="el" href="namespacesqlalchemy_1_1sql.html">sql</a></li><li class="navelem"><a class="el" href="namespacesqlalchemy_1_1sql_1_1selectable.html">selectable</a></li><li class="navelem"><a class="el" href="classsqlalchemy_1_1sql_1_1selectable_1_1HasCTE.html">HasCTE</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classsqlalchemy_1_1sql_1_1selectable_1_1HasCTE-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">sqlalchemy.sql.selectable.HasCTE Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for sqlalchemy.sql.selectable.HasCTE:</div>
<div class="dyncontent">
<div class="center"><img src="classsqlalchemy_1_1sql_1_1selectable_1_1HasCTE__inherit__graph.png" border="0" usemap="#asqlalchemy_8sql_8selectable_8HasCTE_inherit__map" alt="Inheritance graph"/></div>
<!-- MAP 0 -->
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for sqlalchemy.sql.selectable.HasCTE:</div>
<div class="dyncontent">
<div class="center"><img src="classsqlalchemy_1_1sql_1_1selectable_1_1HasCTE__coll__graph.png" border="0" usemap="#asqlalchemy_8sql_8selectable_8HasCTE_coll__map" alt="Collaboration graph"/></div>
<!-- MAP 1 -->
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:acae1fe5d8bf55e26938e1e875a6ce223"><td class="memItemLeft" align="right" valign="top">Self&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1selectable_1_1HasCTE.html#acae1fe5d8bf55e26938e1e875a6ce223">add_cte</a> (self, *<a class="el" href="classsqlalchemy_1_1sql_1_1selectable_1_1CTE.html">CTE</a> ctes, <a class="el" href="classsqlalchemy_1_1sql_1_1visitors_1_1HasTraverseInternals.html#ad109107c4b478895bdfb78dadbd4ecc0">bool</a> nest_here=False)</td></tr>
<tr class="separator:acae1fe5d8bf55e26938e1e875a6ce223"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9ba0c46ec418d4bf20f18efd53ae708"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsqlalchemy_1_1sql_1_1selectable_1_1CTE.html">CTE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1selectable_1_1HasCTE.html#aa9ba0c46ec418d4bf20f18efd53ae708">cte</a> (self, Optional[str] name=None, <a class="el" href="classsqlalchemy_1_1sql_1_1visitors_1_1HasTraverseInternals.html#ad109107c4b478895bdfb78dadbd4ecc0">bool</a> recursive=False, <a class="el" href="classsqlalchemy_1_1sql_1_1visitors_1_1HasTraverseInternals.html#ad109107c4b478895bdfb78dadbd4ecc0">bool</a> nesting=False)</td></tr>
<tr class="separator:aa9ba0c46ec418d4bf20f18efd53ae708"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classsqlalchemy_1_1sql_1_1selectable_1_1ReturnsRows"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classsqlalchemy_1_1sql_1_1selectable_1_1ReturnsRows')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classsqlalchemy_1_1sql_1_1selectable_1_1ReturnsRows.html">sqlalchemy.sql.selectable.ReturnsRows</a></td></tr>
<tr class="memitem:a35c0abb279aed11a3a2420ddbf158fca inherit pub_methods_classsqlalchemy_1_1sql_1_1selectable_1_1ReturnsRows"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsqlalchemy_1_1sql_1_1selectable_1_1ReturnsRows.html">ReturnsRows</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1selectable_1_1ReturnsRows.html#a35c0abb279aed11a3a2420ddbf158fca">selectable</a> (self)</td></tr>
<tr class="separator:a35c0abb279aed11a3a2420ddbf158fca inherit pub_methods_classsqlalchemy_1_1sql_1_1selectable_1_1ReturnsRows"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac8822d79c034496452b2db79522fed13 inherit pub_methods_classsqlalchemy_1_1sql_1_1selectable_1_1ReturnsRows"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsqlalchemy_1_1sql_1_1visitors_1_1HasTraverseInternals.html#ad109107c4b478895bdfb78dadbd4ecc0">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1selectable_1_1ReturnsRows.html#ac8822d79c034496452b2db79522fed13">is_derived_from</a> (self, Optional[<a class="el" href="classsqlalchemy_1_1sql_1_1selectable_1_1FromClause.html">FromClause</a>] fromclause)</td></tr>
<tr class="separator:ac8822d79c034496452b2db79522fed13 inherit pub_methods_classsqlalchemy_1_1sql_1_1selectable_1_1ReturnsRows"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39c0a4ee4c037007e4c4f50dfcbc02fa inherit pub_methods_classsqlalchemy_1_1sql_1_1selectable_1_1ReturnsRows"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsqlalchemy_1_1sql_1_1base_1_1ReadOnlyColumnCollection.html">ReadOnlyColumnCollection</a>[Any, Any]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1selectable_1_1ReturnsRows.html#a39c0a4ee4c037007e4c4f50dfcbc02fa">exported_columns</a> (self)</td></tr>
<tr class="separator:a39c0a4ee4c037007e4c4f50dfcbc02fa inherit pub_methods_classsqlalchemy_1_1sql_1_1selectable_1_1ReturnsRows"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1DQLDMLClauseElement"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1DQLDMLClauseElement')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classsqlalchemy_1_1sql_1_1elements_1_1DQLDMLClauseElement.html">sqlalchemy.sql.elements.DQLDMLClauseElement</a></td></tr>
<tr class="memitem:ab8912a36e374f6f6dda1b994cfc6a952 inherit pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1DQLDMLClauseElement"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsqlalchemy_1_1sql_1_1compiler_1_1SQLCompiler.html">SQLCompiler</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1elements_1_1DQLDMLClauseElement.html#ab8912a36e374f6f6dda1b994cfc6a952">compile</a> (self, Optional[<a class="el" href="classsqlalchemy_1_1sql_1_1__typing_1_1__HasDialect.html">_HasDialect</a>] bind=None, Optional[<a class="el" href="classsqlalchemy_1_1engine_1_1interfaces_1_1Dialect.html">Dialect</a>] dialect=None, **Any kw)</td></tr>
<tr class="separator:ab8912a36e374f6f6dda1b994cfc6a952 inherit pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1DQLDMLClauseElement"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement.html">sqlalchemy.sql.elements.ClauseElement</a></td></tr>
<tr class="memitem:a89c8a892871ae10b6a77b2db7280e034 inherit pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td class="memItemLeft" align="right" valign="top">Optional[str]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement.html#a89c8a892871ae10b6a77b2db7280e034">description</a> (self)</td></tr>
<tr class="separator:a89c8a892871ae10b6a77b2db7280e034 inherit pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d2cf38b4152698342305617817198e6 inherit pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td class="memItemLeft" align="right" valign="top">Iterable[<a class="el" href="classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement.html">ClauseElement</a>]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement.html#a8d2cf38b4152698342305617817198e6">get_children</a> (self, *typing_Tuple[str,...] omit_attrs=..., **Any kw)</td></tr>
<tr class="separator:a8d2cf38b4152698342305617817198e6 inherit pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad208be3feb68f88fef6f8bfeceef4f8d inherit pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement.html#ad208be3feb68f88fef6f8bfeceef4f8d">entity_namespace</a> (self)</td></tr>
<tr class="separator:ad208be3feb68f88fef6f8bfeceef4f8d inherit pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e3596b1de1f2445ce62a9f721be3d41 inherit pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement.html#a9e3596b1de1f2445ce62a9f721be3d41">__getstate__</a> (self)</td></tr>
<tr class="separator:a9e3596b1de1f2445ce62a9f721be3d41 inherit pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac64f423f9724e5ded42da97e76ed76c4 inherit pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td class="memItemLeft" align="right" valign="top">Self&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement.html#ac64f423f9724e5ded42da97e76ed76c4">unique_params</a> (self, Optional[Dict[str, Any]] __optionaldict=None, **Any kwargs)</td></tr>
<tr class="separator:ac64f423f9724e5ded42da97e76ed76c4 inherit pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a157b9979bfa730d57c5534952566312c inherit pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td class="memItemLeft" align="right" valign="top">Self&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement.html#a157b9979bfa730d57c5534952566312c">params</a> (self, Optional[Mapping[str, Any]] __optionaldict=None, **Any kwargs)</td></tr>
<tr class="separator:a157b9979bfa730d57c5534952566312c inherit pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0526abe7082c649e52e5d16d0e185f2 inherit pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsqlalchemy_1_1sql_1_1visitors_1_1HasTraverseInternals.html#ad109107c4b478895bdfb78dadbd4ecc0">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement.html#ae0526abe7082c649e52e5d16d0e185f2">compare</a> (self, <a class="el" href="classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement.html">ClauseElement</a> other, **Any kw)</td></tr>
<tr class="separator:ae0526abe7082c649e52e5d16d0e185f2 inherit pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae81c95aaa21d7a055f100bd13b20620d inherit pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement.html">ClauseElement</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement.html#ae81c95aaa21d7a055f100bd13b20620d">self_group</a> (self, Optional[<a class="el" href="classsqlalchemy_1_1sql_1_1operators_1_1OperatorType.html">OperatorType</a>] against=None)</td></tr>
<tr class="separator:ae81c95aaa21d7a055f100bd13b20620d inherit pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a816774a8eb6e3dd79bef45470eda9cf0 inherit pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement.html#a816774a8eb6e3dd79bef45470eda9cf0">__invert__</a> (self)</td></tr>
<tr class="separator:a816774a8eb6e3dd79bef45470eda9cf0 inherit pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7ad0994347f901b3053e33ef6343ea3 inherit pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement.html#af7ad0994347f901b3053e33ef6343ea3">__bool__</a> (self)</td></tr>
<tr class="separator:af7ad0994347f901b3053e33ef6343ea3 inherit pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad48c1b11198c9603f203f1302da73e20 inherit pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement.html#ad48c1b11198c9603f203f1302da73e20">__repr__</a> (self)</td></tr>
<tr class="separator:ad48c1b11198c9603f203f1302da73e20 inherit pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classsqlalchemy_1_1sql_1_1visitors_1_1ExternallyTraversible"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classsqlalchemy_1_1sql_1_1visitors_1_1ExternallyTraversible')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classsqlalchemy_1_1sql_1_1visitors_1_1ExternallyTraversible.html">sqlalchemy.sql.visitors.ExternallyTraversible</a></td></tr>
<tr class="memitem:a2e74fe0ac0ab43fbf71d70d64757900a inherit pub_methods_classsqlalchemy_1_1sql_1_1visitors_1_1ExternallyTraversible"><td class="memItemLeft" align="right" valign="top">Iterable[<a class="el" href="classsqlalchemy_1_1sql_1_1visitors_1_1ExternallyTraversible.html">ExternallyTraversible</a>]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1visitors_1_1ExternallyTraversible.html#a2e74fe0ac0ab43fbf71d70d64757900a">get_children</a> (self, *Tuple[str,...] omit_attrs=(), **Any kw)</td></tr>
<tr class="separator:a2e74fe0ac0ab43fbf71d70d64757900a inherit pub_methods_classsqlalchemy_1_1sql_1_1visitors_1_1ExternallyTraversible"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classsqlalchemy_1_1sql_1_1visitors_1_1Visitable"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classsqlalchemy_1_1sql_1_1visitors_1_1Visitable')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classsqlalchemy_1_1sql_1_1visitors_1_1Visitable.html">sqlalchemy.sql.visitors.Visitable</a></td></tr>
<tr class="memitem:a752de2abbfb6e9302460cfe55d2585f4 inherit pub_methods_classsqlalchemy_1_1sql_1_1visitors_1_1Visitable"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1visitors_1_1Visitable.html#a752de2abbfb6e9302460cfe55d2585f4">__init_subclass__</a> (cls)</td></tr>
<tr class="separator:a752de2abbfb6e9302460cfe55d2585f4 inherit pub_methods_classsqlalchemy_1_1sql_1_1visitors_1_1Visitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1aad12ab8195bc85370fed8bb81dde5c inherit pub_methods_classsqlalchemy_1_1sql_1_1visitors_1_1Visitable"><td class="memItemLeft" align="right" valign="top">Any&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1visitors_1_1Visitable.html#a1aad12ab8195bc85370fed8bb81dde5c">__class_getitem__</a> (cls, Any key)</td></tr>
<tr class="separator:a1aad12ab8195bc85370fed8bb81dde5c inherit pub_methods_classsqlalchemy_1_1sql_1_1visitors_1_1Visitable"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1CompilerElement"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1CompilerElement')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classsqlalchemy_1_1sql_1_1elements_1_1CompilerElement.html">sqlalchemy.sql.elements.CompilerElement</a></td></tr>
<tr class="memitem:aea5bca6652989e54ba5dd19c9a0b213e inherit pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1CompilerElement"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1elements_1_1CompilerElement.html#aea5bca6652989e54ba5dd19c9a0b213e">__str__</a> (self)</td></tr>
<tr class="separator:aea5bca6652989e54ba5dd19c9a0b213e inherit pub_methods_classsqlalchemy_1_1sql_1_1elements_1_1CompilerElement"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_attribs_classsqlalchemy_1_1sql_1_1elements_1_1CompilerElement"><td colspan="2" onclick="javascript:toggleInherit('pub_attribs_classsqlalchemy_1_1sql_1_1elements_1_1CompilerElement')"><img src="closed.png" alt="-"/>&#160;Public Attributes inherited from <a class="el" href="classsqlalchemy_1_1sql_1_1elements_1_1CompilerElement.html">sqlalchemy.sql.elements.CompilerElement</a></td></tr>
<tr class="memitem:a24dd197a552d8103d8fcc70597def90f inherit pub_attribs_classsqlalchemy_1_1sql_1_1elements_1_1CompilerElement"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1elements_1_1CompilerElement.html#a24dd197a552d8103d8fcc70597def90f">stringify_dialect</a></td></tr>
<tr class="separator:a24dd197a552d8103d8fcc70597def90f inherit pub_attribs_classsqlalchemy_1_1sql_1_1elements_1_1CompilerElement"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_classsqlalchemy_1_1sql_1_1roles_1_1SQLRole"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classsqlalchemy_1_1sql_1_1roles_1_1SQLRole')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classsqlalchemy_1_1sql_1_1roles_1_1SQLRole.html">sqlalchemy.sql.roles.SQLRole</a></td></tr>
<tr class="memitem:a7f9e2c9b77fac6fce598326bc16d497a inherit pub_static_attribs_classsqlalchemy_1_1sql_1_1roles_1_1SQLRole"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1roles_1_1SQLRole.html#a7f9e2c9b77fac6fce598326bc16d497a">allows_lambda</a> = False</td></tr>
<tr class="separator:a7f9e2c9b77fac6fce598326bc16d497a inherit pub_static_attribs_classsqlalchemy_1_1sql_1_1roles_1_1SQLRole"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84b0ef75014655b5bfd33ef452a0a4af inherit pub_static_attribs_classsqlalchemy_1_1sql_1_1roles_1_1SQLRole"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1roles_1_1SQLRole.html#a84b0ef75014655b5bfd33ef452a0a4af">uses_inspection</a> = False</td></tr>
<tr class="separator:a84b0ef75014655b5bfd33ef452a0a4af inherit pub_static_attribs_classsqlalchemy_1_1sql_1_1roles_1_1SQLRole"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_classsqlalchemy_1_1sql_1_1selectable_1_1SelectsRows"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classsqlalchemy_1_1sql_1_1selectable_1_1SelectsRows')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classsqlalchemy_1_1sql_1_1selectable_1_1SelectsRows.html">sqlalchemy.sql.selectable.SelectsRows</a></td></tr>
<tr class="memitem:a05265760edc811cdb4a10c31f6ba139c inherit pub_static_attribs_classsqlalchemy_1_1sql_1_1selectable_1_1SelectsRows"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1selectable_1_1SelectsRows.html#a05265760edc811cdb4a10c31f6ba139c">SelectLabelStyle</a></td></tr>
<tr class="separator:a05265760edc811cdb4a10c31f6ba139c inherit pub_static_attribs_classsqlalchemy_1_1sql_1_1selectable_1_1SelectsRows"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement.html">sqlalchemy.sql.elements.ClauseElement</a></td></tr>
<tr class="memitem:ac8978b9412fe46ecb60e591a69f7b9bb inherit pub_static_attribs_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsqlalchemy_1_1sql_1_1visitors_1_1HasTraverseInternals.html#ad109107c4b478895bdfb78dadbd4ecc0">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement.html#ac8978b9412fe46ecb60e591a69f7b9bb">is_clause_element</a> = True</td></tr>
<tr class="separator:ac8978b9412fe46ecb60e591a69f7b9bb inherit pub_static_attribs_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a047e1705185bb0d45713429744da6fab inherit pub_static_attribs_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsqlalchemy_1_1sql_1_1visitors_1_1HasTraverseInternals.html#ad109107c4b478895bdfb78dadbd4ecc0">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement.html#a047e1705185bb0d45713429744da6fab">is_selectable</a> = False</td></tr>
<tr class="separator:a047e1705185bb0d45713429744da6fab inherit pub_static_attribs_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81789ca85e466ef43d3cb6e7810ddf5b inherit pub_static_attribs_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsqlalchemy_1_1sql_1_1visitors_1_1HasTraverseInternals.html#ad109107c4b478895bdfb78dadbd4ecc0">bool</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement.html#a81789ca85e466ef43d3cb6e7810ddf5b">is_dml</a> = False</td></tr>
<tr class="separator:a81789ca85e466ef43d3cb6e7810ddf5b inherit pub_static_attribs_classsqlalchemy_1_1sql_1_1elements_1_1ClauseElement"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_classsqlalchemy_1_1sql_1_1visitors_1_1HasTraverseInternals"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classsqlalchemy_1_1sql_1_1visitors_1_1HasTraverseInternals')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classsqlalchemy_1_1sql_1_1visitors_1_1HasTraverseInternals.html">sqlalchemy.sql.visitors.HasTraverseInternals</a></td></tr>
<tr class="memitem:ad109107c4b478895bdfb78dadbd4ecc0 inherit pub_static_attribs_classsqlalchemy_1_1sql_1_1visitors_1_1HasTraverseInternals"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1visitors_1_1HasTraverseInternals.html#ad109107c4b478895bdfb78dadbd4ecc0">bool</a></td></tr>
<tr class="separator:ad109107c4b478895bdfb78dadbd4ecc0 inherit pub_static_attribs_classsqlalchemy_1_1sql_1_1visitors_1_1HasTraverseInternals"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_static_attribs_classsqlalchemy_1_1sql_1_1elements_1_1CompilerElement"><td colspan="2" onclick="javascript:toggleInherit('pub_static_attribs_classsqlalchemy_1_1sql_1_1elements_1_1CompilerElement')"><img src="closed.png" alt="-"/>&#160;Static Public Attributes inherited from <a class="el" href="classsqlalchemy_1_1sql_1_1elements_1_1CompilerElement.html">sqlalchemy.sql.elements.CompilerElement</a></td></tr>
<tr class="memitem:a5a07c7b8cfe9bef0846dbbc14f07436b inherit pub_static_attribs_classsqlalchemy_1_1sql_1_1elements_1_1CompilerElement"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1elements_1_1CompilerElement.html#a5a07c7b8cfe9bef0846dbbc14f07436b">supports_execution</a> = False</td></tr>
<tr class="separator:a5a07c7b8cfe9bef0846dbbc14f07436b inherit pub_static_attribs_classsqlalchemy_1_1sql_1_1elements_1_1CompilerElement"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85bbf914bb59e8685cba29ed85be9341 inherit pub_static_attribs_classsqlalchemy_1_1sql_1_1elements_1_1CompilerElement"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1sql_1_1elements_1_1CompilerElement.html#a85bbf914bb59e8685cba29ed85be9341">stringify_dialect</a> = &quot;default&quot;</td></tr>
<tr class="separator:a85bbf914bb59e8685cba29ed85be9341 inherit pub_static_attribs_classsqlalchemy_1_1sql_1_1elements_1_1CompilerElement"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Mixin that declares a class to include CTE support.</pre> </div><h2 class="groupheader">Member Function Documentation</h2>
<a id="acae1fe5d8bf55e26938e1e875a6ce223"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acae1fe5d8bf55e26938e1e875a6ce223">&#9670;&nbsp;</a></span>add_cte()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Self sqlalchemy.sql.selectable.HasCTE.add_cte </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">*<a class="el" href="classsqlalchemy_1_1sql_1_1selectable_1_1CTE.html">CTE</a>&#160;</td>
          <td class="paramname"><em>ctes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsqlalchemy_1_1sql_1_1visitors_1_1HasTraverseInternals.html#ad109107c4b478895bdfb78dadbd4ecc0">bool</a> &#160;</td>
          <td class="paramname"><em>nest_here</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Add one or more :class:`_sql.CTE` constructs to this statement.

This method will associate the given :class:`_sql.CTE` constructs with
the parent statement such that they will each be unconditionally
rendered in the WITH clause of the final statement, even if not
referenced elsewhere within the statement or any sub-selects.

The optional :paramref:`.HasCTE.add_cte.nest_here` parameter when set
to True will have the effect that each given :class:`_sql.CTE` will
render in a WITH clause rendered directly along with this statement,
rather than being moved to the top of the ultimate rendered statement,
even if this statement is rendered as a subquery within a larger
statement.

This method has two general uses. One is to embed CTE statements that
serve some purpose without being referenced explicitly, such as the use
case of embedding a DML statement such as an INSERT or UPDATE as a CTE
inline with a primary statement that may draw from its results
indirectly.  The other is to provide control over the exact placement
of a particular series of CTE constructs that should remain rendered
directly in terms of a particular statement that may be nested in a
larger statement.

E.g.::

    from sqlalchemy import table, column, select

    t = table("t", column("c1"), column("c2"))

    ins = t.insert().values({"c1": "x", "c2": "y"}).cte()

    stmt = select(t).add_cte(ins)

Would render:

.. sourcecode:: sql

    WITH anon_1 AS (
        INSERT INTO t (c1, c2) VALUES (:param_1, :param_2)
    )
    SELECT t.c1, t.c2
    FROM t

Above, the "anon_1" CTE is not referenced in the SELECT
statement, however still accomplishes the task of running an INSERT
statement.

Similarly in a DML-related context, using the PostgreSQL
:class:`_postgresql.Insert` construct to generate an "upsert"::

    from sqlalchemy import table, column
    from sqlalchemy.dialects.postgresql import insert

    t = table("t", column("c1"), column("c2"))

    delete_statement_cte = t.delete().where(t.c.c1 &lt; 1).cte("deletions")

    insert_stmt = insert(t).values({"c1": 1, "c2": 2})
    update_statement = insert_stmt.on_conflict_do_update(
        index_elements=[t.c.c1],
        set_={
            "c1": insert_stmt.excluded.c1,
            "c2": insert_stmt.excluded.c2,
        },
    ).add_cte(delete_statement_cte)

    print(update_statement)

The above statement renders as:

.. sourcecode:: sql

    WITH deletions AS (
        DELETE FROM t WHERE t.c1 &lt; %(c1_1)s
    )
    INSERT INTO t (c1, c2) VALUES (%(c1)s, %(c2)s)
    ON CONFLICT (c1) DO UPDATE SET c1 = excluded.c1, c2 = excluded.c2

.. versionadded:: 1.4.21

:param \*ctes: zero or more :class:`.CTE` constructs.

 .. versionchanged:: 2.0  Multiple CTE instances are accepted

:param nest_here: if True, the given CTE or CTEs will be rendered
 as though they specified the :paramref:`.HasCTE.cte.nesting` flag
 to ``True`` when they were added to this :class:`.HasCTE`.
 Assuming the given CTEs are not referenced in an outer-enclosing
 statement as well, the CTEs given should render at the level of
 this statement when this flag is given.

 .. versionadded:: 2.0

 .. seealso::

    :paramref:`.HasCTE.cte.nesting`</pre> 
<p>Reimplemented in <a class="el" href="classsqlalchemy_1_1sql_1_1selectable_1_1SelectStatementGrouping.html#abdfc27faba2217fb8f04a73790edb226">sqlalchemy.sql.selectable.SelectStatementGrouping</a>.</p>

</div>
</div>
<a id="aa9ba0c46ec418d4bf20f18efd53ae708"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa9ba0c46ec418d4bf20f18efd53ae708">&#9670;&nbsp;</a></span>cte()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> <a class="el" href="classsqlalchemy_1_1sql_1_1selectable_1_1CTE.html">CTE</a> sqlalchemy.sql.selectable.HasCTE.cte </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[str] &#160;</td>
          <td class="paramname"><em>name</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsqlalchemy_1_1sql_1_1visitors_1_1HasTraverseInternals.html#ad109107c4b478895bdfb78dadbd4ecc0">bool</a> &#160;</td>
          <td class="paramname"><em>recursive</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classsqlalchemy_1_1sql_1_1visitors_1_1HasTraverseInternals.html#ad109107c4b478895bdfb78dadbd4ecc0">bool</a> &#160;</td>
          <td class="paramname"><em>nesting</em> = <code>False</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return a new :class:`_expression.CTE`,
or Common Table Expression instance.

Common table expressions are a SQL standard whereby SELECT
statements can draw upon secondary statements specified along
with the primary statement, using a clause called "WITH".
Special semantics regarding UNION can also be employed to
allow "recursive" queries, where a SELECT statement can draw
upon the set of rows that have previously been selected.

CTEs can also be applied to DML constructs UPDATE, INSERT
and DELETE on some databases, both as a source of CTE rows
when combined with RETURNING, as well as a consumer of
CTE rows.

SQLAlchemy detects :class:`_expression.CTE` objects, which are treated
similarly to :class:`_expression.Alias` objects, as special elements
to be delivered to the FROM clause of the statement as well
as to a WITH clause at the top of the statement.

For special prefixes such as PostgreSQL "MATERIALIZED" and
"NOT MATERIALIZED", the :meth:`_expression.CTE.prefix_with`
method may be
used to establish these.

.. versionchanged:: 1.3.13 Added support for prefixes.
   In particular - MATERIALIZED and NOT MATERIALIZED.

:param name: name given to the common table expression.  Like
 :meth:`_expression.FromClause.alias`, the name can be left as
 ``None`` in which case an anonymous symbol will be used at query
 compile time.
:param recursive: if ``True``, will render ``WITH RECURSIVE``.
 A recursive common table expression is intended to be used in
 conjunction with UNION ALL in order to derive rows
 from those already selected.
:param nesting: if ``True``, will render the CTE locally to the
 statement in which it is referenced.   For more complex scenarios,
 the :meth:`.HasCTE.add_cte` method using the
 :paramref:`.HasCTE.add_cte.nest_here`
 parameter may also be used to more carefully
 control the exact placement of a particular CTE.

 .. versionadded:: 1.4.24

 .. seealso::

    :meth:`.HasCTE.add_cte`

The following examples include two from PostgreSQL's documentation at
https://www.postgresql.org/docs/current/static/queries-with.html,
as well as additional examples.

Example 1, non recursive::

    from sqlalchemy import (
        Table,
        Column,
        String,
        Integer,
        MetaData,
        select,
        func,
    )

    metadata = MetaData()

    orders = Table(
        "orders",
        metadata,
        Column("region", String),
        Column("amount", Integer),
        Column("product", String),
        Column("quantity", Integer),
    )

    regional_sales = (
        select(orders.c.region, func.sum(orders.c.amount).label("total_sales"))
        .group_by(orders.c.region)
        .cte("regional_sales")
    )


    top_regions = (
        select(regional_sales.c.region)
        .where(
            regional_sales.c.total_sales
            &gt; select(func.sum(regional_sales.c.total_sales) / 10)
        )
        .cte("top_regions")
    )

    statement = (
        select(
            orders.c.region,
            orders.c.product,
            func.sum(orders.c.quantity).label("product_units"),
            func.sum(orders.c.amount).label("product_sales"),
        )
        .where(orders.c.region.in_(select(top_regions.c.region)))
        .group_by(orders.c.region, orders.c.product)
    )

    result = conn.execute(statement).fetchall()

Example 2, WITH RECURSIVE::

    from sqlalchemy import (
        Table,
        Column,
        String,
        Integer,
        MetaData,
        select,
        func,
    )

    metadata = MetaData()

    parts = Table(
        "parts",
        metadata,
        Column("part", String),
        Column("sub_part", String),
        Column("quantity", Integer),
    )

    included_parts = (
        select(parts.c.sub_part, parts.c.part, parts.c.quantity)
        .where(parts.c.part == "our part")
        .cte(recursive=True)
    )


    incl_alias = included_parts.alias()
    parts_alias = parts.alias()
    included_parts = included_parts.union_all(
        select(
            parts_alias.c.sub_part, parts_alias.c.part, parts_alias.c.quantity
        ).where(parts_alias.c.part == incl_alias.c.sub_part)
    )

    statement = select(
        included_parts.c.sub_part,
        func.sum(included_parts.c.quantity).label("total_quantity"),
    ).group_by(included_parts.c.sub_part)

    result = conn.execute(statement).fetchall()

Example 3, an upsert using UPDATE and INSERT with CTEs::

    from datetime import date
    from sqlalchemy import (
        MetaData,
        Table,
        Column,
        Integer,
        Date,
        select,
        literal,
        and_,
        exists,
    )

    metadata = MetaData()

    visitors = Table(
        "visitors",
        metadata,
        Column("product_id", Integer, primary_key=True),
        Column("date", Date, primary_key=True),
        Column("count", Integer),
    )

    # add 5 visitors for the product_id == 1
    product_id = 1
    day = date.today()
    count = 5

    update_cte = (
        visitors.update()
        .where(
            and_(visitors.c.product_id == product_id, visitors.c.date == day)
        )
        .values(count=visitors.c.count + count)
        .returning(literal(1))
        .cte("update_cte")
    )

    upsert = visitors.insert().from_select(
        [visitors.c.product_id, visitors.c.date, visitors.c.count],
        select(literal(product_id), literal(day), literal(count)).where(
            ~exists(update_cte.select())
        ),
    )

    connection.execute(upsert)

Example 4, Nesting CTE (SQLAlchemy 1.4.24 and above)::

    value_a = select(literal("root").label("n")).cte("value_a")

    # A nested CTE with the same name as the root one
    value_a_nested = select(literal("nesting").label("n")).cte(
        "value_a", nesting=True
    )

    # Nesting CTEs takes ascendency locally
    # over the CTEs at a higher level
    value_b = select(value_a_nested.c.n).cte("value_b")

    value_ab = select(value_a.c.n.label("a"), value_b.c.n.label("b"))

The above query will render the second CTE nested inside the first,
shown with inline parameters below as:

.. sourcecode:: sql

    WITH
        value_a AS
            (SELECT 'root' AS n),
        value_b AS
            (WITH value_a AS
                (SELECT 'nesting' AS n)
            SELECT value_a.n AS n FROM value_a)
    SELECT value_a.n AS a, value_b.n AS b
    FROM value_a, value_b

The same CTE can be set up using the :meth:`.HasCTE.add_cte` method
as follows (SQLAlchemy 2.0 and above)::

    value_a = select(literal("root").label("n")).cte("value_a")

    # A nested CTE with the same name as the root one
    value_a_nested = select(literal("nesting").label("n")).cte("value_a")

    # Nesting CTEs takes ascendency locally
    # over the CTEs at a higher level
    value_b = (
        select(value_a_nested.c.n)
        .add_cte(value_a_nested, nest_here=True)
        .cte("value_b")
    )

    value_ab = select(value_a.c.n.label("a"), value_b.c.n.label("b"))

Example 5, Non-Linear CTE (SQLAlchemy 1.4.28 and above)::

    edge = Table(
        "edge",
        metadata,
        Column("id", Integer, primary_key=True),
        Column("left", Integer),
        Column("right", Integer),
    )

    root_node = select(literal(1).label("node")).cte("nodes", recursive=True)

    left_edge = select(edge.c.left).join(
        root_node, edge.c.right == root_node.c.node
    )
    right_edge = select(edge.c.right).join(
        root_node, edge.c.left == root_node.c.node
    )

    subgraph_cte = root_node.union(left_edge, right_edge)

    subgraph = select(subgraph_cte)

The above query will render 2 UNIONs inside the recursive CTE:

.. sourcecode:: sql

    WITH RECURSIVE nodes(node) AS (
            SELECT 1 AS node
        UNION
            SELECT edge."left" AS "left"
            FROM edge JOIN nodes ON edge."right" = nodes.node
        UNION
            SELECT edge."right" AS "right"
            FROM edge JOIN nodes ON edge."left" = nodes.node
    )
    SELECT nodes.node FROM nodes

.. seealso::

    :meth:`_orm.Query.cte` - ORM version of
    :meth:`_expression.HasCTE.cte`.</pre> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>py3_env/lib/python3.10/site-packages/sqlalchemy/sql/<a class="el" href="selectable_8py.html">selectable.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
