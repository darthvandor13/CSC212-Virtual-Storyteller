<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NAO Virtual Storyteller: qnn.quant_config Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NAO Virtual Storyteller
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespaceqnn.html">qnn</a></li><li class="navelem"><a class="el" href="namespaceqnn_1_1quant__config.html">quant_config</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">qnn.quant_config Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classqnn_1_1quant__config_1_1QnnCompatibilityOverrides.html">QnnCompatibilityOverrides</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a1013204e71323d2e09904cdabc2e6ea1"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceqnn_1_1quant__config.html#a1013204e71323d2e09904cdabc2e6ea1">warn_unable_to_override</a> (onnx.NodeProto node, str what_str, str tensor_name, str io_kind)</td></tr>
<tr class="separator:a1013204e71323d2e09904cdabc2e6ea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8dcf825364f2f5c17ea9bef1a77c1230"><td class="memItemLeft" align="right" valign="top">StaticQuantConfig&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceqnn_1_1quant__config.html#a8dcf825364f2f5c17ea9bef1a77c1230">get_qnn_qdq_config</a> (str|Path|onnx.ModelProto model_input, CalibrationDataReader calibration_data_reader, CalibrationMethod calibrate_method=CalibrationMethod.MinMax, QuantType activation_type=QuantType.QUInt8, QuantType weight_type=QuantType.QUInt8, bool per_channel=False, dict[str, list[dict[str, Any]]]|None init_overrides=None, bool add_qtype_converts=True, bool activation_symmetric=False, bool|None weight_symmetric=None, bool keep_removable_activations=False, int|None stride=None, list[str]|None calibration_providers=None, list[str]|None op_types_to_quantize=None, list[str]|None nodes_to_exclude=None)</td></tr>
<tr class="separator:a8dcf825364f2f5c17ea9bef1a77c1230"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a2c3768e5e49fb0e7cdd5adb7fbdd8fb4"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceqnn_1_1quant__config.html#a2c3768e5e49fb0e7cdd5adb7fbdd8fb4">Q16_TYPES</a> = {QuantType.QInt16, QuantType.QUInt16}</td></tr>
<tr class="separator:a2c3768e5e49fb0e7cdd5adb7fbdd8fb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bf68771cd60b5b71198b3dcb78f0a9e"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceqnn_1_1quant__config.html#a2bf68771cd60b5b71198b3dcb78f0a9e">Q8_TYPES</a> = {QuantType.QInt8, QuantType.QUInt8}</td></tr>
<tr class="separator:a2bf68771cd60b5b71198b3dcb78f0a9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fee45b0c98efe02f3eca3d7791860c8"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceqnn_1_1quant__config.html#a0fee45b0c98efe02f3eca3d7791860c8">Q4_TYPES</a> = {QuantType.QInt4, QuantType.QUInt4}</td></tr>
<tr class="separator:a0fee45b0c98efe02f3eca3d7791860c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36effaa10e0f2178cd7d11f159da0011"><td class="memItemLeft" align="right" valign="top">dictionary&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceqnn_1_1quant__config.html#a36effaa10e0f2178cd7d11f159da0011">OP_TYPES_TO_EXCLUDE</a> = {&quot;Cast&quot;}</td></tr>
<tr class="separator:a36effaa10e0f2178cd7d11f159da0011"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5cd7e2cf7e76160cae347a315a6054a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespaceqnn_1_1quant__config.html#ae5cd7e2cf7e76160cae347a315a6054a">MODEL_SIZE_THRESHOLD</a> = 2147483648</td></tr>
<tr class="separator:ae5cd7e2cf7e76160cae347a315a6054a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a8dcf825364f2f5c17ea9bef1a77c1230"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dcf825364f2f5c17ea9bef1a77c1230">&#9670;&nbsp;</a></span>get_qnn_qdq_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">StaticQuantConfig qnn.quant_config.get_qnn_qdq_config </td>
          <td>(</td>
          <td class="paramtype">str | Path | onnx.ModelProto&#160;</td>
          <td class="paramname"><em>model_input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CalibrationDataReader&#160;</td>
          <td class="paramname"><em>calibration_data_reader</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CalibrationMethod &#160;</td>
          <td class="paramname"><em>calibrate_method</em> = <code>CalibrationMethod.MinMax</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QuantType &#160;</td>
          <td class="paramname"><em>activation_type</em> = <code>QuantType.QUInt8</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QuantType &#160;</td>
          <td class="paramname"><em>weight_type</em> = <code>QuantType.QUInt8</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>per_channel</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">dict[str, list[dict[str, Any]]] | None &#160;</td>
          <td class="paramname"><em>init_overrides</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>add_qtype_converts</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>activation_symmetric</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool | None &#160;</td>
          <td class="paramname"><em>weight_symmetric</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &#160;</td>
          <td class="paramname"><em>keep_removable_activations</em> = <code>False</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int | None &#160;</td>
          <td class="paramname"><em>stride</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">list[str] | None &#160;</td>
          <td class="paramname"><em>calibration_providers</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">list[str] | None &#160;</td>
          <td class="paramname"><em>op_types_to_quantize</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">list[str] | None &#160;</td>
          <td class="paramname"><em>nodes_to_exclude</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns a static quantization configuration suitable for running QDQ models on QNN EP.
This is done primarily by setting tensor-level quantization overrides.

Params:
    model_input: Path to the input model file or ModelProto.
    calibration_data_reader: Calibration data reader.
    calibrate_methode: The calibration method. Defaults to MinMax.
    activation_type: The default activation quantization type. Defaults to QUInt8.
    weight_type: The default weight quantization type. Defaults to QUInt8.
    per_channel: Global option that determines if a fixed set of operator types should be quantized per-channel.
        Defaults to false. Alternatively, use the tensor-level `init_overrides` to select individual operators
        and their quantization axes.

        If set, the quantization tool uses per-channel quantization for the following operator types and inputs:
            - Conv:
                - input[1] on axis 0
                - input[2] (bias) on axis 0
            - ConvTranspose:
                - input[1] on axis 1
                - input[2] (bias) on axis 0
    init_overrides: Initial tensor-level quantization overrides. Defaults to None. This function updates of a copy
        of these overrides with any necessary adjustments and includes them in the returned
        configuration object (i.e., config.extra_options['TensorQuantOverrides']).

        The key is a tensor name and the value is a list of dictionaries. For per-tensor quantization, the list
        contains a single dictionary. For per-channel quantization, the list contains either a dictionary for
        each channel in the tensor or a single dictionary that is assumed to apply to all channels. An 'axis'
        key must be present in the first dictionary for per-channel quantization.

        Each dictionary contains optional overrides with the following keys and values.
            'quant_type' = QuantType : The tensor's quantization data type.
            'axis' = Int             : The per-channel axis. Must be present for per-channel weights.
            'scale' =  Float         : The scale value to use. Must also specify `zero_point` if set.
            'zero_point' = Int       : The zero-point value to use. Must also specify `scale` is set.
            'symmetric' = Bool       : If the tensor should use symmetric quantization. Invalid if also
                                        set `scale` or `zero_point`.
            'reduce_range' = Bool    : If the quantization range should be reduced. Invalid if also
                                        set `scale` or `zero_point`. Only valid for initializers.
            'rmax' = Float           : Override the maximum real tensor value in calibration data.
                                        Invalid if also set `scale` or `zero_point`.
            'rmin' = Float           : Override the minimum real tensor value in calibration data.
                                        Invalid if also set `scale` or `zero_point`.
            'convert' = Dict         : A nested dictionary with the same keys for an activation
                                       tensor that should be converted to another quantization type.
            'convert["recv_nodes"] = Set : Set of node names that consume the converted activation,
                                           other nodes get the original type. If not specified,
                                           assume all consumer nodes get the converted type.
    add_qtype_converts: True if this function should automatically add "convert" entries to the provided
        `init_overrides` to ensure that operators use valid input/output types (activations only).
        Ex: if you override the output of an Add to 16-bit, this option ensures that the activation inputs
        of the Add are also up-converted to 16-bit and that data types for surrounding ops are converted
        appropriately. Refer to the documentation in mixed_precision_overrides_utils.py for additional details.
    activation_symmetric: True if activations should be quantized symmetrically (i.e, rmax == -rmin) by default.
        Defaults to false. For int8 and int16, this results in zero-point values of 0. For uint8 and uin16,
        the zero-point values are 128 and 32,768, respectively.
    weight_symmetric: True if weights should be quantized symmetrically (i.e., rmax == -rmin) by default.
        Defaults to None. If set to None, weight_symmetric is assumed true if the weight_type is a signed int.
    keep_removable_activations: Defaults to false. If true, "removable" activations (e.g., Clip or Relu) will not
                    be removed, and will be explicitly represented in the QDQ model. If false, these activations
                    are automatically removed if activations are asymmetrically quantized. Keeping these activations
                    is necessary if optimizations or EP transformations will later remove
                    QuantizeLinear/DequantizeLinear operators from the model.
    calibration_providers: Execution providers to run the session during calibration. Default is None which uses
        [ "CPUExecutionProvider" ].
    op_types_to_quantize: If set to None, all operator types will be quantized except for OP_TYPES_TO_EXCLUDE
    nodes_to_exclude: List of nodes names to exclude from quantization. The nodes in this list will be excluded from
        quantization when it is not None.

Returns:
    A StaticQuantConfig object
</pre> 
</div>
</div>
<a id="a1013204e71323d2e09904cdabc2e6ea1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1013204e71323d2e09904cdabc2e6ea1">&#9670;&nbsp;</a></span>warn_unable_to_override()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def qnn.quant_config.warn_unable_to_override </td>
          <td>(</td>
          <td class="paramtype">onnx.NodeProto&#160;</td>
          <td class="paramname"><em>node</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>what_str</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>tensor_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>io_kind</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae5cd7e2cf7e76160cae347a315a6054a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae5cd7e2cf7e76160cae347a315a6054a">&#9670;&nbsp;</a></span>MODEL_SIZE_THRESHOLD</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int qnn.quant_config.MODEL_SIZE_THRESHOLD = 2147483648</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a36effaa10e0f2178cd7d11f159da0011"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36effaa10e0f2178cd7d11f159da0011">&#9670;&nbsp;</a></span>OP_TYPES_TO_EXCLUDE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dictionary qnn.quant_config.OP_TYPES_TO_EXCLUDE = {&quot;Cast&quot;}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2c3768e5e49fb0e7cdd5adb7fbdd8fb4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c3768e5e49fb0e7cdd5adb7fbdd8fb4">&#9670;&nbsp;</a></span>Q16_TYPES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dictionary qnn.quant_config.Q16_TYPES = {QuantType.QInt16, QuantType.QUInt16}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a0fee45b0c98efe02f3eca3d7791860c8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0fee45b0c98efe02f3eca3d7791860c8">&#9670;&nbsp;</a></span>Q4_TYPES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dictionary qnn.quant_config.Q4_TYPES = {QuantType.QInt4, QuantType.QUInt4}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a2bf68771cd60b5b71198b3dcb78f0a9e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bf68771cd60b5b71198b3dcb78f0a9e">&#9670;&nbsp;</a></span>Q8_TYPES</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">dictionary qnn.quant_config.Q8_TYPES = {QuantType.QInt8, QuantType.QUInt8}</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
