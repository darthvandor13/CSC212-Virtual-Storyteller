<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NAO Virtual Storyteller: sympy.testing.runtests_pytest Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NAO Virtual Storyteller
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacesympy.html">sympy</a></li><li class="navelem"><a class="el" href="namespacesympy_1_1testing.html">testing</a></li><li class="navelem"><a class="el" href="namespacesympy_1_1testing_1_1runtests__pytest.html">runtests_pytest</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">sympy.testing.runtests_pytest Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsympy_1_1testing_1_1runtests__pytest_1_1NoPytestError.html">NoPytestError</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsympy_1_1testing_1_1runtests__pytest_1_1pytest.html">pytest</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsympy_1_1testing_1_1runtests__pytest_1_1PytestPluginManager.html">PytestPluginManager</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a244174b7ccd0f9bad152a8be38e80638"><td class="memItemLeft" align="right" valign="top">pathlib.Path&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesympy_1_1testing_1_1runtests__pytest.html#a244174b7ccd0f9bad152a8be38e80638">sympy_dir</a> ()</td></tr>
<tr class="separator:a244174b7ccd0f9bad152a8be38e80638"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac02f78f4e2067cba929fb6397bfdb9a2"><td class="memItemLeft" align="right" valign="top">List[str]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesympy_1_1testing_1_1runtests__pytest.html#ac02f78f4e2067cba929fb6397bfdb9a2">update_args_with_rootdir</a> (List[str] args)</td></tr>
<tr class="separator:ac02f78f4e2067cba929fb6397bfdb9a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a780d0e30c4735224d8091c38b84c1d29"><td class="memItemLeft" align="right" valign="top">List[str]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesympy_1_1testing_1_1runtests__pytest.html#a780d0e30c4735224d8091c38b84c1d29">update_args_with_paths</a> (List[str] paths, Optional[Tuple[str]] keywords, List[str] args)</td></tr>
<tr class="separator:a780d0e30c4735224d8091c38b84c1d29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83575ad3276ad710a51ab7cb699405c4"><td class="memItemLeft" align="right" valign="top">str&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesympy_1_1testing_1_1runtests__pytest.html#a83575ad3276ad710a51ab7cb699405c4">make_absolute_path</a> (str partial_path)</td></tr>
<tr class="separator:a83575ad3276ad710a51ab7cb699405c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a229be541cbfb7372a7d54bb9704e582b"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesympy_1_1testing_1_1runtests__pytest.html#a229be541cbfb7372a7d54bb9704e582b">test</a> (*paths, subprocess=True, rerun=0, **kwargs)</td></tr>
<tr class="separator:a229be541cbfb7372a7d54bb9704e582b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb19e94476ec3e398b758950bdeebec3"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesympy_1_1testing_1_1runtests__pytest.html#adb19e94476ec3e398b758950bdeebec3">doctest</a> ()</td></tr>
<tr class="separator:adb19e94476ec3e398b758950bdeebec3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a99d74898cc8068811b05009b967255e4"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesympy_1_1testing_1_1runtests__pytest.html#a99d74898cc8068811b05009b967255e4">TESTPATHS_DEFAULT</a></td></tr>
<tr class="separator:a99d74898cc8068811b05009b967255e4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a029e37ee7f0aa177f057c572063b425c"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesympy_1_1testing_1_1runtests__pytest.html#a029e37ee7f0aa177f057c572063b425c">BLACKLIST_DEFAULT</a></td></tr>
<tr class="separator:a029e37ee7f0aa177f057c572063b425c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83739daa4754b9d86166570d1ba00600"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacesympy_1_1testing_1_1runtests__pytest.html#a83739daa4754b9d86166570d1ba00600">split_pattern</a> = re.compile(r'([1-9][0-9]*)/([1-9][0-9]*)')</td></tr>
<tr class="separator:a83739daa4754b9d86166570d1ba00600"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Backwards compatible functions for running tests from SymPy using pytest.

SymPy historically had its own testing framework that aimed to:
- be compatible with pytest;
- operate similarly (or identically) to pytest;
- not require any external dependencies;
- have all the functionality in one file only;
- have no magic, just import the test file and execute the test functions; and
- be portable.

To reduce the maintence burden of developing an independent testing framework
and to leverage the benefits of existing Python testing infrastructure, SymPy
now uses pytest (and various of its plugins) to run the test suite.

To maintain backwards compatibility with the legacy testing interface of SymPy,
which implemented functions that allowed users to run the tests on their
installed version of SymPy, the functions in this module are implemented to
match the existing API while thinly wrapping pytest.

These two key functions are `test` and `doctest`.</pre> </div><h2 class="groupheader">Function Documentation</h2>
<a id="adb19e94476ec3e398b758950bdeebec3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adb19e94476ec3e398b758950bdeebec3">&#9670;&nbsp;</a></span>doctest()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def sympy.testing.runtests_pytest.doctest </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Interface to run doctests via pytest compatible with SymPy's test runner.
</pre> 
</div>
</div>
<a id="a83575ad3276ad710a51ab7cb699405c4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83575ad3276ad710a51ab7cb699405c4">&#9670;&nbsp;</a></span>make_absolute_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">str sympy.testing.runtests_pytest.make_absolute_path </td>
          <td>(</td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>partial_path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Convert a partial path to an absolute path.

A path such a `sympy/core` might be needed. However, absolute paths should
be used in the arguments to pytest in all cases as it avoids errors that
arise from nonexistent paths.

This function assumes that partial_paths will be passed in such that they
begin with the explicit `sympy` directory, i.e. `sympy/...`.</pre> 
</div>
</div>
<a id="a244174b7ccd0f9bad152a8be38e80638"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a244174b7ccd0f9bad152a8be38e80638">&#9670;&nbsp;</a></span>sympy_dir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">pathlib Path sympy.testing.runtests_pytest.sympy_dir </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Returns the root SymPy directory.</pre> 
</div>
</div>
<a id="a229be541cbfb7372a7d54bb9704e582b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a229be541cbfb7372a7d54bb9704e582b">&#9670;&nbsp;</a></span>test()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def sympy.testing.runtests_pytest.test </td>
          <td>(</td>
          <td class="paramtype">*&#160;</td>
          <td class="paramname"><em>paths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>subprocess</em> = <code>True</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>rerun</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**&#160;</td>
          <td class="paramname"><em>kwargs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Interface to run tests via pytest compatible with SymPy's test runner.

Explanation
===========

Note that a `pytest.ExitCode`, which is an `enum`, is returned. This is
different to the legacy SymPy test runner which would return a `bool`. If
all tests sucessfully pass the `pytest.ExitCode.OK` with value `0` is
returned, whereas the legacy SymPy test runner would return `True`. In any
other scenario, a non-zero `enum` value is returned, whereas the legacy
SymPy test runner would return `False`. Users need to, therefore, be careful
if treating the pytest exit codes as booleans because
`bool(pytest.ExitCode.OK)` evaluates to `False`, the opposite of legacy
behaviour.

Examples
========

&gt;&gt;&gt; import sympy  # doctest: +SKIP

Run one file:

&gt;&gt;&gt; sympy.test('sympy/core/tests/test_basic.py')  # doctest: +SKIP
&gt;&gt;&gt; sympy.test('_basic')  # doctest: +SKIP

Run all tests in sympy/functions/ and some particular file:

&gt;&gt;&gt; sympy.test("sympy/core/tests/test_basic.py",
...            "sympy/functions")  # doctest: +SKIP

Run all tests in sympy/core and sympy/utilities:

&gt;&gt;&gt; sympy.test("/core", "/util")  # doctest: +SKIP

Run specific test from a file:

&gt;&gt;&gt; sympy.test("sympy/core/tests/test_basic.py",
...            kw="test_equality")  # doctest: +SKIP

Run specific test from any file:

&gt;&gt;&gt; sympy.test(kw="subs")  # doctest: +SKIP

Run the tests using the legacy SymPy runner:

&gt;&gt;&gt; sympy.test(use_sympy_runner=True)  # doctest: +SKIP

Note that this option is slated for deprecation in the near future and is
only currently provided to ensure users have an alternative option while the
pytest-based runner receives real-world testing.

Parameters
==========
paths : first n positional arguments of strings
    Paths, both partial and absolute, describing which subset(s) of the test
    suite are to be run.
subprocess : bool, default is True
    Legacy option, is currently ignored.
rerun : int, default is 0
    Legacy option, is ignored.
use_sympy_runner : bool or None, default is None
    Temporary option to invoke the legacy SymPy test runner instead of
    `pytest.main`. Will be removed in the near future.
verbose : bool, default is False
    Sets the verbosity of the pytest output. Using `True` will add the
    `--verbose` option to the pytest call.
tb : str, 'auto', 'long', 'short', 'line', 'native', or 'no'
    Sets the traceback print mode of pytest using the `--tb` option.
kw : str
    Only run tests which match the given substring expression. An expression
    is a Python evaluatable expression where all names are substring-matched
    against test names and their parent classes. Example: -k 'test_method or
    test_other' matches all test functions and classes whose name contains
    'test_method' or 'test_other', while -k 'not test_method' matches those
    that don't contain 'test_method' in their names. -k 'not test_method and
    not test_other' will eliminate the matches. Additionally keywords are
    matched to classes and functions containing extra names in their
    'extra_keyword_matches' set, as well as functions which have names
    assigned directly to them. The matching is case-insensitive.
pdb : bool, default is False
    Start the interactive Python debugger on errors or `KeyboardInterrupt`.
colors : bool, default is True
    Color terminal output.
force_colors : bool, default is False
    Legacy option, is ignored.
sort : bool, default is True
    Run the tests in sorted order. pytest uses a sorted test order by
    default. Requires pytest-randomly.
seed : int
    Seed to use for random number generation. Requires pytest-randomly.
timeout : int, default is 0
    Timeout in seconds before dumping the stacks. 0 means no timeout.
    Requires pytest-timeout.
fail_on_timeout : bool, default is False
    Legacy option, is currently ignored.
slow : bool, default is False
    Run the subset of tests marked as `slow`.
enhance_asserts : bool, default is False
    Legacy option, is currently ignored.
split : string in form `&lt;SPLIT&gt;/&lt;GROUPS&gt;` or None, default is None
    Used to split the tests up. As an example, if `split='2/3' is used then
    only the middle third of tests are run. Requires pytest-split.
time_balance : bool, default is True
    Legacy option, is currently ignored.
blacklist : iterable of test paths as strings, default is BLACKLIST_DEFAULT
    Blacklisted test paths are ignored using the `--ignore` option. Paths
    may be partial or absolute. If partial then they are matched against
    all paths in the pytest tests path.
parallel : bool, default is False
    Parallelize the test running using pytest-xdist. If `True` then pytest
    will automatically detect the number of CPU cores available and use them
    all. Requires pytest-xdist.
store_durations : bool, False
    Store test durations into the file `.test_durations`. The is used by
    `pytest-split` to help determine more even splits when more than one
    test group is being used. Requires pytest-split.</pre> 
</div>
</div>
<a id="a780d0e30c4735224d8091c38b84c1d29"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a780d0e30c4735224d8091c38b84c1d29">&#9670;&nbsp;</a></span>update_args_with_paths()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> List[str] sympy.testing.runtests_pytest.update_args_with_paths </td>
          <td>(</td>
          <td class="paramtype">List[str]&#160;</td>
          <td class="paramname"><em>paths</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Optional[Tuple[str]]&#160;</td>
          <td class="paramname"><em>keywords</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">List[str]&#160;</td>
          <td class="paramname"><em>args</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Appends valid paths and flags to the args `list` passed to `pytest.main`.

The are three different types of "path" that a user may pass to the `paths`
positional arguments, all of which need to be handled slightly differently:

1. Nothing is passed
    The paths to the `testpaths` defined in `pytest.ini` need to be appended
    to the arguments list.
2. Full, valid paths are passed
    These paths need to be validated but can then be directly appended to
    the arguments list.
3. Partial paths are passed.
    The `testpaths` defined in `pytest.ini` need to be recursed and any
    matches be appended to the arguments list.</pre> 
</div>
</div>
<a id="ac02f78f4e2067cba929fb6397bfdb9a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac02f78f4e2067cba929fb6397bfdb9a2">&#9670;&nbsp;</a></span>update_args_with_rootdir()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> List[str] sympy.testing.runtests_pytest.update_args_with_rootdir </td>
          <td>(</td>
          <td class="paramtype">List[str]&#160;</td>
          <td class="paramname"><em>args</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Adds `--rootdir` and path to the args `list` passed to `pytest.main`.

This is required to ensure that pytest is able to find the SymPy tests in
instances where it gets confused determining the root directory, e.g. when
running with Pyodide (e.g. `bin/test_pyodide.mjs`).</pre> 
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="a029e37ee7f0aa177f057c572063b425c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a029e37ee7f0aa177f057c572063b425c">&#9670;&nbsp;</a></span>BLACKLIST_DEFAULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple sympy.testing.runtests_pytest.BLACKLIST_DEFAULT</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;=  (</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    <span class="stringliteral">&#39;sympy/integrals/rubi/rubi_tests/tests&#39;</span>,</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a83739daa4754b9d86166570d1ba00600"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83739daa4754b9d86166570d1ba00600">&#9670;&nbsp;</a></span>split_pattern</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">sympy.testing.runtests_pytest.split_pattern = re.compile(r'([1-9][0-9]*)/([1-9][0-9]*)')</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a99d74898cc8068811b05009b967255e4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99d74898cc8068811b05009b967255e4">&#9670;&nbsp;</a></span>TESTPATHS_DEFAULT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple sympy.testing.runtests_pytest.TESTPATHS_DEFAULT</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;=  (</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    pathlib.Path(<span class="stringliteral">&#39;sympy&#39;</span>),</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;    pathlib.Path(<span class="stringliteral">&#39;doc&#39;</span>, <span class="stringliteral">&#39;src&#39;</span>),</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;)</div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
