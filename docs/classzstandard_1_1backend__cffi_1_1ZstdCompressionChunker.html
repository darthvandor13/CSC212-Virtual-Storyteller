<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NAO Virtual Storyteller: zstandard.backend_cffi.ZstdCompressionChunker Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NAO Virtual Storyteller
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacezstandard.html">zstandard</a></li><li class="navelem"><a class="el" href="namespacezstandard_1_1backend__cffi.html">backend_cffi</a></li><li class="navelem"><a class="el" href="classzstandard_1_1backend__cffi_1_1ZstdCompressionChunker.html">ZstdCompressionChunker</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classzstandard_1_1backend__cffi_1_1ZstdCompressionChunker-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">zstandard.backend_cffi.ZstdCompressionChunker Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for zstandard.backend_cffi.ZstdCompressionChunker:</div>
<div class="dyncontent">
<div class="center"><img src="classzstandard_1_1backend__cffi_1_1ZstdCompressionChunker__inherit__graph.png" border="0" usemap="#azstandard_8backend__cffi_8ZstdCompressionChunker_inherit__map" alt="Inheritance graph"/></div>
<!-- MAP 0 -->
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for zstandard.backend_cffi.ZstdCompressionChunker:</div>
<div class="dyncontent">
<div class="center"><img src="classzstandard_1_1backend__cffi_1_1ZstdCompressionChunker__coll__graph.png" border="0" usemap="#azstandard_8backend__cffi_8ZstdCompressionChunker_coll__map" alt="Collaboration graph"/></div>
<!-- MAP 1 -->
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab9985b41028c8d9d4375589d91efefa6"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classzstandard_1_1backend__cffi_1_1ZstdCompressionChunker.html#ab9985b41028c8d9d4375589d91efefa6">__init__</a> (self, compressor, chunk_size)</td></tr>
<tr class="separator:ab9985b41028c8d9d4375589d91efefa6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e70657829876f15ad331b5f3e4e6bc5"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classzstandard_1_1backend__cffi_1_1ZstdCompressionChunker.html#a8e70657829876f15ad331b5f3e4e6bc5">compress</a> (self, data)</td></tr>
<tr class="separator:a8e70657829876f15ad331b5f3e4e6bc5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59415faf1ee5cc9df9fd03aa4c770d53"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classzstandard_1_1backend__cffi_1_1ZstdCompressionChunker.html#a59415faf1ee5cc9df9fd03aa4c770d53">flush</a> (self)</td></tr>
<tr class="separator:a59415faf1ee5cc9df9fd03aa4c770d53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af796c7542569bd3c0e8c7533b6e2bf2d"><td class="memItemLeft" align="right" valign="top">def&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classzstandard_1_1backend__cffi_1_1ZstdCompressionChunker.html#af796c7542569bd3c0e8c7533b6e2bf2d">finish</a> (self)</td></tr>
<tr class="separator:af796c7542569bd3c0e8c7533b6e2bf2d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Compress data to uniformly sized chunks.

This type allows you to iteratively feed chunks of data into a compressor
and produce output chunks of uniform size.

``compress()``, ``flush()``, and ``finish()`` all return an iterator of
``bytes`` instances holding compressed data. The iterator may be empty.
Callers MUST iterate through all elements of the returned iterator before
performing another operation on the object or else the compressor's
internal state may become confused. This can result in an exception being
raised or malformed data being emitted.

All chunks emitted by ``compress()`` will have a length of the configured
chunk size.

``flush()`` and ``finish()`` may return a final chunk smaller than
the configured chunk size.

Instances are obtained by calling :py:meth:`ZstdCompressor.chunker`.

Here is how the API should be used:

&gt;&gt;&gt; cctx = zstandard.ZstdCompressor()
&gt;&gt;&gt; chunker = cctx.chunker(chunk_size=32768)
&gt;&gt;&gt;
&gt;&gt;&gt; with open(path, 'rb') as fh:
...     while True:
...         in_chunk = fh.read(32768)
...         if not in_chunk:
...             break
...
...         for out_chunk in chunker.compress(in_chunk):
...             # Do something with output chunk of size 32768.
...
...     for out_chunk in chunker.finish():
...         # Do something with output chunks that finalize the zstd frame.

This compressor type is often a better alternative to
:py:class:`ZstdCompressor.compressobj` because it has better performance
properties.

``compressobj()`` will emit output data as it is available. This results
in a *stream* of output chunks of varying sizes. The consistency of the
output chunk size with ``chunker()`` is more appropriate for many usages,
such as sending compressed data to a socket.

``compressobj()`` may also perform extra memory reallocations in order
to dynamically adjust the sizes of the output chunks. Since ``chunker()``
output chunks are all the same size (except for flushed or final chunks),
there is less memory allocation/copying overhead.
</pre> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ab9985b41028c8d9d4375589d91efefa6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9985b41028c8d9d4375589d91efefa6">&#9670;&nbsp;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def zstandard.backend_cffi.ZstdCompressionChunker.__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>compressor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>chunk_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a8e70657829876f15ad331b5f3e4e6bc5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8e70657829876f15ad331b5f3e4e6bc5">&#9670;&nbsp;</a></span>compress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def zstandard.backend_cffi.ZstdCompressionChunker.compress </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Feed new input data into the compressor.

:param data:
   Data to feed to compressor.
:return:
   Iterator of ``bytes`` representing chunks of compressed data.
</pre> 
</div>
</div>
<a id="af796c7542569bd3c0e8c7533b6e2bf2d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af796c7542569bd3c0e8c7533b6e2bf2d">&#9670;&nbsp;</a></span>finish()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def zstandard.backend_cffi.ZstdCompressionChunker.finish </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Signals the end of input data.

No new data can be compressed after this method is called.

This method will flush buffered data and finish the zstd frame.

:return:
   Iterator of ``bytes`` of compressed data.
</pre> 
</div>
</div>
<a id="a59415faf1ee5cc9df9fd03aa4c770d53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59415faf1ee5cc9df9fd03aa4c770d53">&#9670;&nbsp;</a></span>flush()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">def zstandard.backend_cffi.ZstdCompressionChunker.flush </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Flushes all data currently in the compressor.

:return:
   Iterator of ``bytes`` of compressed data.
</pre> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>py3_env/lib/python3.10/site-packages/zstandard/<a class="el" href="backend__cffi_8py.html">backend_cffi.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
