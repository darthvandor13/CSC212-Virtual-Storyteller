<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NAO Virtual Storyteller: sqlalchemy.ext.declarative.extensions.DeferredReflection Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NAO Virtual Storyteller
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacesqlalchemy.html">sqlalchemy</a></li><li class="navelem"><a class="el" href="namespacesqlalchemy_1_1ext.html">ext</a></li><li class="navelem"><a class="el" href="namespacesqlalchemy_1_1ext_1_1declarative.html">declarative</a></li><li class="navelem"><a class="el" href="namespacesqlalchemy_1_1ext_1_1declarative_1_1extensions.html">extensions</a></li><li class="navelem"><a class="el" href="classsqlalchemy_1_1ext_1_1declarative_1_1extensions_1_1DeferredReflection.html">DeferredReflection</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classsqlalchemy_1_1ext_1_1declarative_1_1extensions_1_1DeferredReflection-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">sqlalchemy.ext.declarative.extensions.DeferredReflection Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac320e8ec9a00cf04b4324acb0c4b7b56"><td class="memItemLeft" align="right" valign="top">None&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1ext_1_1declarative_1_1extensions_1_1DeferredReflection.html#ac320e8ec9a00cf04b4324acb0c4b7b56">prepare</a> (cls, Union[<a class="el" href="classsqlalchemy_1_1engine_1_1base_1_1Engine.html">Engine</a>, <a class="el" href="classsqlalchemy_1_1engine_1_1base_1_1Connection.html">Connection</a>] bind, **Any reflect_kw)</td></tr>
<tr class="separator:ac320e8ec9a00cf04b4324acb0c4b7b56"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">A helper class for construction of mappings based on
a deferred reflection step.

Normally, declarative can be used with reflection by
setting a :class:`_schema.Table` object using autoload_with=engine
as the ``__table__`` attribute on a declarative class.
The caveat is that the :class:`_schema.Table` must be fully
reflected, or at the very least have a primary key column,
at the point at which a normal declarative mapping is
constructed, meaning the :class:`_engine.Engine` must be available
at class declaration time.

The :class:`.DeferredReflection` mixin moves the construction
of mappers to be at a later point, after a specific
method is called which first reflects all :class:`_schema.Table`
objects created so far.   Classes can define it as such::

    from sqlalchemy.ext.declarative import declarative_base
    from sqlalchemy.ext.declarative import DeferredReflection

    Base = declarative_base()


    class MyClass(DeferredReflection, Base):
        __tablename__ = "mytable"

Above, ``MyClass`` is not yet mapped.   After a series of
classes have been defined in the above fashion, all tables
can be reflected and mappings created using
:meth:`.prepare`::

    engine = create_engine("someengine://...")
    DeferredReflection.prepare(engine)

The :class:`.DeferredReflection` mixin can be applied to individual
classes, used as the base for the declarative base itself,
or used in a custom abstract class.   Using an abstract base
allows that only a subset of classes to be prepared for a
particular prepare step, which is necessary for applications
that use more than one engine.  For example, if an application
has two engines, you might use two bases, and prepare each
separately, e.g.::

    class ReflectedOne(DeferredReflection, Base):
        __abstract__ = True


    class ReflectedTwo(DeferredReflection, Base):
        __abstract__ = True


    class MyClass(ReflectedOne):
        __tablename__ = "mytable"


    class MyOtherClass(ReflectedOne):
        __tablename__ = "myothertable"


    class YetAnotherClass(ReflectedTwo):
        __tablename__ = "yetanothertable"


    # ... etc.

Above, the class hierarchies for ``ReflectedOne`` and
``ReflectedTwo`` can be configured separately::

    ReflectedOne.prepare(engine_one)
    ReflectedTwo.prepare(engine_two)

.. seealso::

    :ref:`orm_declarative_reflected_deferred_reflection` - in the
    :ref:`orm_declarative_table_config_toplevel` section.</pre> </div><h2 class="groupheader">Member Function Documentation</h2>
<a id="ac320e8ec9a00cf04b4324acb0c4b7b56"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac320e8ec9a00cf04b4324acb0c4b7b56">&#9670;&nbsp;</a></span>prepare()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> None sqlalchemy.ext.declarative.extensions.DeferredReflection.prepare </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>cls</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Union[<a class="el" href="classsqlalchemy_1_1engine_1_1base_1_1Engine.html">Engine</a>, <a class="el" href="classsqlalchemy_1_1engine_1_1base_1_1Connection.html">Connection</a>]&#160;</td>
          <td class="paramname"><em>bind</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">**Any
    &#160;</td>
          <td class="paramname"><em>reflect_kw</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Reflect all :class:`_schema.Table` objects for all current
:class:`.DeferredReflection` subclasses

:param bind: :class:`_engine.Engine` or :class:`_engine.Connection`
 instance

 ..versionchanged:: 2.0.16 a :class:`_engine.Connection` is also
 accepted.

:param \**reflect_kw: additional keyword arguments passed to
 :meth:`_schema.MetaData.reflect`, such as
 :paramref:`_schema.MetaData.reflect.views`.

 .. versionadded:: 2.0.16</pre> 
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>py3_env/lib/python3.10/site-packages/sqlalchemy/ext/declarative/<a class="el" href="py3__env_2lib_2python3_810_2site-packages_2sqlalchemy_2ext_2declarative_2extensions_8py.html">extensions.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
