<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NAO Virtual Storyteller: chromadb.db.migrations Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NAO Virtual Storyteller
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacechromadb.html">chromadb</a></li><li class="navelem"><a class="el" href="namespacechromadb_1_1db.html">db</a></li><li class="navelem"><a class="el" href="namespacechromadb_1_1db_1_1migrations.html">migrations</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">chromadb.db.migrations Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchromadb_1_1db_1_1migrations_1_1MigrationFile.html">MigrationFile</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchromadb_1_1db_1_1migrations_1_1Migration.html">Migration</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchromadb_1_1db_1_1migrations_1_1UninitializedMigrationsError.html">UninitializedMigrationsError</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchromadb_1_1db_1_1migrations_1_1UnappliedMigrationsError.html">UnappliedMigrationsError</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchromadb_1_1db_1_1migrations_1_1InconsistentVersionError.html">InconsistentVersionError</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchromadb_1_1db_1_1migrations_1_1InconsistentHashError.html">InconsistentHashError</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchromadb_1_1db_1_1migrations_1_1InvalidHashError.html">InvalidHashError</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchromadb_1_1db_1_1migrations_1_1InvalidMigrationFilename.html">InvalidMigrationFilename</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classchromadb_1_1db_1_1migrations_1_1MigratableDB.html">MigratableDB</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad9bd113f5c4f96605dbf7e63e66044c0"><td class="memItemLeft" align="right" valign="top">Sequence[<a class="el" href="classchromadb_1_1db_1_1migrations_1_1Migration.html">Migration</a>]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacechromadb_1_1db_1_1migrations.html#ad9bd113f5c4f96605dbf7e63e66044c0">verify_migration_sequence</a> (Sequence[<a class="el" href="classchromadb_1_1db_1_1migrations_1_1Migration.html">Migration</a>] db_migrations, Sequence[<a class="el" href="classchromadb_1_1db_1_1migrations_1_1Migration.html">Migration</a>] source_migrations)</td></tr>
<tr class="separator:ad9bd113f5c4f96605dbf7e63e66044c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff42dc66c32b2c26544758173dc9f2bf"><td class="memItemLeft" align="right" valign="top">Sequence[<a class="el" href="classchromadb_1_1db_1_1migrations_1_1Migration.html">Migration</a>]&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacechromadb_1_1db_1_1migrations.html#aff42dc66c32b2c26544758173dc9f2bf">find_migrations</a> (<a class="el" href="classimportlib__resources_1_1abc_1_1Traversable.html">Traversable</a> dir, str scope, str hash_alg=&quot;md5&quot;)</td></tr>
<tr class="separator:aff42dc66c32b2c26544758173dc9f2bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ae487380d1e0142fa1277b06a9ea10249"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacechromadb_1_1db_1_1migrations.html#ae487380d1e0142fa1277b06a9ea10249">filename_regex</a> = re.compile(r&quot;(\d+)-(.+)\.(.+)\.sql&quot;)</td></tr>
<tr class="separator:ae487380d1e0142fa1277b06a9ea10249"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="aff42dc66c32b2c26544758173dc9f2bf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aff42dc66c32b2c26544758173dc9f2bf">&#9670;&nbsp;</a></span>find_migrations()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Sequence[<a class="el" href="classchromadb_1_1db_1_1migrations_1_1Migration.html">Migration</a>] chromadb.db.migrations.find_migrations </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classimportlib__resources_1_1abc_1_1Traversable.html">Traversable</a>&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str&#160;</td>
          <td class="paramname"><em>scope</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">str &#160;</td>
          <td class="paramname"><em>hash_alg</em> = <code>&quot;md5&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Return a list of all migration present in the given directory, in ascending
order. Filter by scope.</pre> 
</div>
</div>
<a id="ad9bd113f5c4f96605dbf7e63e66044c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9bd113f5c4f96605dbf7e63e66044c0">&#9670;&nbsp;</a></span>verify_migration_sequence()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> Sequence[<a class="el" href="classchromadb_1_1db_1_1migrations_1_1Migration.html">Migration</a>] chromadb.db.migrations.verify_migration_sequence </td>
          <td>(</td>
          <td class="paramtype">Sequence[<a class="el" href="classchromadb_1_1db_1_1migrations_1_1Migration.html">Migration</a>]&#160;</td>
          <td class="paramname"><em>db_migrations</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">Sequence[<a class="el" href="classchromadb_1_1db_1_1migrations_1_1Migration.html">Migration</a>]&#160;</td>
          <td class="paramname"><em>source_migrations</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Given a list of migrations already applied to a database, and a list of
migrations from the source code, validate that the applied migrations are correct
and match the expected migrations.

Throws an exception if any migrations are missing, out of order, or if the source
hash does not match.

Returns a list of all unapplied migrations, or an empty list if all migrations are
applied and the database is up to date.</pre> 
</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a id="ae487380d1e0142fa1277b06a9ea10249"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae487380d1e0142fa1277b06a9ea10249">&#9670;&nbsp;</a></span>filename_regex</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">chromadb.db.migrations.filename_regex = re.compile(r&quot;(\d+)-(.+)\.(.+)\.sql&quot;)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
