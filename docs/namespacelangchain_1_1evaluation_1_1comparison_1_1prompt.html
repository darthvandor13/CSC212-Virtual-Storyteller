<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NAO Virtual Storyteller: langchain.evaluation.comparison.prompt Namespace Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NAO Virtual Storyteller
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacelangchain.html">langchain</a></li><li class="navelem"><a class="el" href="namespacelangchain_1_1evaluation.html">evaluation</a></li><li class="navelem"><a class="el" href="namespacelangchain_1_1evaluation_1_1comparison.html">comparison</a></li><li class="navelem"><a class="el" href="namespacelangchain_1_1evaluation_1_1comparison_1_1prompt.html">prompt</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">langchain.evaluation.comparison.prompt Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ac05abb9353479ec2414dedc4f57ee61b"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelangchain_1_1evaluation_1_1comparison_1_1prompt.html#ac05abb9353479ec2414dedc4f57ee61b">SYSTEM_MESSAGE</a></td></tr>
<tr class="separator:ac05abb9353479ec2414dedc4f57ee61b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09773ae1557d60d363a847c72f3d3a10"><td class="memItemLeft" align="right" valign="top">tuple&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelangchain_1_1evaluation_1_1comparison_1_1prompt.html#a09773ae1557d60d363a847c72f3d3a10">CRITERIA_INSTRUCTIONS</a></td></tr>
<tr class="separator:a09773ae1557d60d363a847c72f3d3a10"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab7428b30fa6da251c42375770fdbb0d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelangchain_1_1evaluation_1_1comparison_1_1prompt.html#aab7428b30fa6da251c42375770fdbb0d">COMPARISON_TEMPLATE</a></td></tr>
<tr class="separator:aab7428b30fa6da251c42375770fdbb0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acea2b3a0376d3d260013b35499229bf3"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="namespacelangchain_1_1evaluation_1_1comparison_1_1prompt.html#acea2b3a0376d3d260013b35499229bf3">COMPARISON_TEMPLATE_WITH_REFERENCE</a></td></tr>
<tr class="separator:acea2b3a0376d3d260013b35499229bf3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Prompts for comparing the outputs of two models for a given question.

This prompt is used to compare two responses and evaluate which one best follows the instructions
and answers the question. The prompt is based on the paper from
Zheng, et. al. https://arxiv.org/abs/2306.05685
</pre> </div><h2 class="groupheader">Variable Documentation</h2>
<a id="aab7428b30fa6da251c42375770fdbb0d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab7428b30fa6da251c42375770fdbb0d">&#9670;&nbsp;</a></span>COMPARISON_TEMPLATE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">langchain.evaluation.comparison.prompt.COMPARISON_TEMPLATE</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;=  ChatPromptTemplate.from_messages(</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    [</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        (<span class="stringliteral">&quot;system&quot;</span>, SYSTEM_MESSAGE),</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;        (</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;            <span class="stringliteral">&quot;human&quot;</span>,</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;            <span class="stringliteral">&quot;{criteria}[User Question]\n{input}\n\n\</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="stringliteral">[The Start of Assistant A&#39;s Answer]\n{prediction}\n\</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="stringliteral">[The End of Assistant A&#39;s Answer]\</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="stringliteral">\n\n[The Start of Assistant B&#39;s Answer]\n{prediction_b}\n\</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="stringliteral">[The End of Assistant B&#39;s Answer]&quot;</span>,</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;        ),</div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;    ]</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;)</div>
</div><!-- fragment -->
</div>
</div>
<a id="acea2b3a0376d3d260013b35499229bf3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acea2b3a0376d3d260013b35499229bf3">&#9670;&nbsp;</a></span>COMPARISON_TEMPLATE_WITH_REFERENCE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">langchain.evaluation.comparison.prompt.COMPARISON_TEMPLATE_WITH_REFERENCE</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;=  ChatPromptTemplate.from_messages(</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    [</div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;        (<span class="stringliteral">&quot;system&quot;</span>, SYSTEM_MESSAGE),</div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;        (</div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;            <span class="stringliteral">&quot;human&quot;</span>,</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;            <span class="stringliteral">&quot;{criteria}\n\nTo help you evaluate the responses, \</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="stringliteral">here is a reference answer to the user&#39;s question:\n\</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="stringliteral">{reference}\</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="stringliteral">[User Question]\n{input}\n\n\</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="stringliteral">[The Start of Assistant A&#39;s Answer]\n{prediction}\n\</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="stringliteral">[The End of Assistant A&#39;s Answer]\</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="stringliteral">\n\n[The Start of Assistant B&#39;s Answer]\n{prediction_b}\n\</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="stringliteral">[The End of Assistant B&#39;s Answer]&quot;</span>,</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;        ),</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    ]</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;)</div>
</div><!-- fragment -->
</div>
</div>
<a id="a09773ae1557d60d363a847c72f3d3a10"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a09773ae1557d60d363a847c72f3d3a10">&#9670;&nbsp;</a></span>CRITERIA_INSTRUCTIONS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">tuple langchain.evaluation.comparison.prompt.CRITERIA_INSTRUCTIONS</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;=  (</div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;    <span class="stringliteral">&quot;For this evaluation, you should primarily consider the following criteria:\n&quot;</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;)</div>
</div><!-- fragment -->
</div>
</div>
<a id="ac05abb9353479ec2414dedc4f57ee61b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac05abb9353479ec2414dedc4f57ee61b">&#9670;&nbsp;</a></span>SYSTEM_MESSAGE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">string langchain.evaluation.comparison.prompt.SYSTEM_MESSAGE</td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;=  <span class="stringliteral">&#39;Please act as an impartial judge and evaluate the quality \</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="stringliteral">of the responses provided by two AI assistants to the user question displayed below. \</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="stringliteral">You should choose the assistant that follows the user\&#39;s instructions \</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="stringliteral">and answers \the user\&#39;s question better. \</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="stringliteral">Your evaluation should consider factors such as the \</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="stringliteral">helpfulness, relevance, accuracy, depth, creativity, \</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="stringliteral">and level of detail of their responses. \</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="stringliteral">Begin your evaluation by comparing the two responses and provide a short explanation. \</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="stringliteral">Avoid any position biases and ensure that the order in which \</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="stringliteral">the responses were presented does not influence your decision. \</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="stringliteral">Do not allow the length of the responses to influence your evaluation. \</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="stringliteral">Do not favor certain names of the assistants. Be as objective as possible. \</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="stringliteral">After providing your explanation, output your final verdict by strictly following \</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="stringliteral">this format: &quot;[[A]]&quot; if assistant A is better, &quot;[[B]]&quot; if assistant B is better, \</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="stringliteral">and &quot;[[C]]&quot; for a tie.&#39;</span></div>
</div><!-- fragment -->
</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
