<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NAO Virtual Storyteller: sqlalchemy.ext.asyncio.session.AsyncAttrs Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NAO Virtual Storyteller
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacesqlalchemy.html">sqlalchemy</a></li><li class="navelem"><a class="el" href="namespacesqlalchemy_1_1ext.html">ext</a></li><li class="navelem"><a class="el" href="namespacesqlalchemy_1_1ext_1_1asyncio.html">asyncio</a></li><li class="navelem"><a class="el" href="namespacesqlalchemy_1_1ext_1_1asyncio_1_1session.html">session</a></li><li class="navelem"><a class="el" href="classsqlalchemy_1_1ext_1_1asyncio_1_1session_1_1AsyncAttrs.html">AsyncAttrs</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="classsqlalchemy_1_1ext_1_1asyncio_1_1session_1_1AsyncAttrs-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">sqlalchemy.ext.asyncio.session.AsyncAttrs Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1ext_1_1asyncio_1_1session_1_1AsyncAttrs_1_1__AsyncAttrGetitem.html">_AsyncAttrGetitem</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a42e599dd3b30ebd34dbe5c7d1bf3755b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classsqlalchemy_1_1ext_1_1asyncio_1_1session_1_1AsyncAttrs_1_1__AsyncAttrGetitem.html">AsyncAttrs._AsyncAttrGetitem</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1ext_1_1asyncio_1_1session_1_1AsyncAttrs.html#a42e599dd3b30ebd34dbe5c7d1bf3755b">awaitable_attrs</a> (self)</td></tr>
<tr class="separator:a42e599dd3b30ebd34dbe5c7d1bf3755b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a8dbdf8d8932b9609163296e126d626f6"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1ext_1_1asyncio_1_1session_1_1AsyncAttrs.html#a8dbdf8d8932b9609163296e126d626f6">classmethods</a> = [&quot;object_session&quot;, &quot;identity_key&quot;],</td></tr>
<tr class="separator:a8dbdf8d8932b9609163296e126d626f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace42f9fc9537f6fbec510dc013423654"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1ext_1_1asyncio_1_1session_1_1AsyncAttrs.html#ace42f9fc9537f6fbec510dc013423654">methods</a></td></tr>
<tr class="separator:ace42f9fc9537f6fbec510dc013423654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5878acfe2543d1931dd217ed4da1727d"><td class="memItemLeft" align="right" valign="top">list&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsqlalchemy_1_1ext_1_1asyncio_1_1session_1_1AsyncAttrs.html#a5878acfe2543d1931dd217ed4da1727d">attributes</a></td></tr>
<tr class="separator:a5878acfe2543d1931dd217ed4da1727d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><pre class="fragment">Mixin class which provides an awaitable accessor for all attributes.

E.g.::

    from __future__ import annotations

    from typing import List

    from sqlalchemy import ForeignKey
    from sqlalchemy import func
    from sqlalchemy.ext.asyncio import AsyncAttrs
    from sqlalchemy.orm import DeclarativeBase
    from sqlalchemy.orm import Mapped
    from sqlalchemy.orm import mapped_column
    from sqlalchemy.orm import relationship


    class Base(AsyncAttrs, DeclarativeBase):
        pass


    class A(Base):
        __tablename__ = "a"

        id: Mapped[int] = mapped_column(primary_key=True)
        data: Mapped[str]
        bs: Mapped[List[B]] = relationship()


    class B(Base):
        __tablename__ = "b"
        id: Mapped[int] = mapped_column(primary_key=True)
        a_id: Mapped[int] = mapped_column(ForeignKey("a.id"))
        data: Mapped[str]

In the above example, the :class:`_asyncio.AsyncAttrs` mixin is applied to
the declarative ``Base`` class where it takes effect for all subclasses.
This mixin adds a single new attribute
:attr:`_asyncio.AsyncAttrs.awaitable_attrs` to all classes, which will
yield the value of any attribute as an awaitable. This allows attributes
which may be subject to lazy loading or deferred / unexpiry loading to be
accessed such that IO can still be emitted::

    a1 = (await async_session.scalars(select(A).where(A.id == 5))).one()

    # use the lazy loader on ``a1.bs`` via the ``.awaitable_attrs``
    # interface, so that it may be awaited
    for b1 in await a1.awaitable_attrs.bs:
        print(b1)

The :attr:`_asyncio.AsyncAttrs.awaitable_attrs` performs a call against the
attribute that is approximately equivalent to using the
:meth:`_asyncio.AsyncSession.run_sync` method, e.g.::

    for b1 in await async_session.run_sync(lambda sess: a1.bs):
        print(b1)

.. versionadded:: 2.0.13

.. seealso::

    :ref:`asyncio_orm_avoid_lazyloads`</pre> </div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a42e599dd3b30ebd34dbe5c7d1bf3755b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42e599dd3b30ebd34dbe5c7d1bf3755b">&#9670;&nbsp;</a></span>awaitable_attrs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"> <a class="el" href="classsqlalchemy_1_1ext_1_1asyncio_1_1session_1_1AsyncAttrs_1_1__AsyncAttrGetitem.html">AsyncAttrs._AsyncAttrGetitem</a> sqlalchemy.ext.asyncio.session.AsyncAttrs.awaitable_attrs </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">provide a namespace of all attributes on this object wrapped
as awaitables.

e.g.::


    a1 = (await async_session.scalars(select(A).where(A.id == 5))).one()

    some_attribute = await a1.awaitable_attrs.some_deferred_attribute
    some_collection = await a1.awaitable_attrs.some_collection</pre> 
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a5878acfe2543d1931dd217ed4da1727d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5878acfe2543d1931dd217ed4da1727d">&#9670;&nbsp;</a></span>attributes</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">list sqlalchemy.ext.asyncio.session.AsyncAttrs.attributes</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= [</div>
<div class="line">        <span class="stringliteral">&quot;dirty&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;deleted&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;new&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;identity_map&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;is_active&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;autoflush&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;no_autoflush&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;info&quot;</span>,</div>
<div class="line">    ],</div>
</div><!-- fragment -->
</div>
</div>
<a id="a8dbdf8d8932b9609163296e126d626f6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8dbdf8d8932b9609163296e126d626f6">&#9670;&nbsp;</a></span>classmethods</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">list sqlalchemy.ext.asyncio.session.AsyncAttrs.classmethods = [&quot;object_session&quot;, &quot;identity_key&quot;],</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a id="ace42f9fc9537f6fbec510dc013423654"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ace42f9fc9537f6fbec510dc013423654">&#9670;&nbsp;</a></span>methods</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">list sqlalchemy.ext.asyncio.session.AsyncAttrs.methods</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<b>Initial value:</b><div class="fragment"><div class="line">= [</div>
<div class="line">        <span class="stringliteral">&quot;__contains__&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;__iter__&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;add&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;add_all&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;expire&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;expire_all&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;expunge&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;expunge_all&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;is_modified&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;in_transaction&quot;</span>,</div>
<div class="line">        <span class="stringliteral">&quot;in_nested_transaction&quot;</span>,</div>
<div class="line">    ],</div>
</div><!-- fragment -->
</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>py3_env/lib/python3.10/site-packages/sqlalchemy/ext/asyncio/<a class="el" href="py3__env_2lib_2python3_810_2site-packages_2sqlalchemy_2ext_2asyncio_2session_8py.html">session.py</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
